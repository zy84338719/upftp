<h1 align="center">
  <br>
  <a href="https://github.com/zy84338719/upftp" alt="logo" ><img src="https://raw.githubusercontent.com/cloudreve/frontend/master/public/static/img/logo192.png" width="150"/></a>
  <br>
  upftp
  <br>
</h1>

<div align="center">
  <h4>ä¸€ä¸ªç°ä»£åŒ–çš„è·¨å¹³å°æ–‡ä»¶å…±äº«æœåŠ¡å™¨ | A modern cross-platform file sharing server</h4>
</div>

<p align="center">
  <a href="https://github.com/zy84338719/upftp/actions/workflows/build.yml">
    <img src="https://github.com/zy84338719/upftp/actions/workflows/build.yml/badge.svg?branch=main"
         alt="Build Status">
  </a>
  <a href="https://goreportcard.com/report/github.com/zy84338719/upftp">
    <img src="https://goreportcard.com/badge/github.com/zy84338719/upftp?style=flat-square">
  </a>
  <a href="https://github.com/zy84338719/upftp/releases">
    <img src="https://img.shields.io/github/v/release/zy84338719/upftp?include_prereleases&style=flat-square">
  </a>
  <a href="https://github.com/zy84338719/upftp/blob/main/LICENSE.txt">
    <img src="https://img.shields.io/github/license/zy84338719/upftp?style=flat-square">
  </a>
</p>

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

---

# ä¸­æ–‡

## âœ¨ ä¸»è¦ç‰¹æ€§

### ğŸŒ ç°ä»£åŒ–Webç•Œé¢
- å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨è®¾å¤‡
- å®æ—¶æ–‡ä»¶æœç´¢åŠŸèƒ½
- ç›´è§‚çš„æ–‡ä»¶ç±»å‹å›¾æ ‡
- ä¼˜é›…çš„é¢„è§ˆæ¨¡æ€æ¡†
- **ğŸŒ å¤šè¯­è¨€æ”¯æŒ**: è‡ªåŠ¨æ£€æµ‹æµè§ˆå™¨è¯­è¨€ï¼Œæ”¯æŒä¸­è‹±æ–‡åˆ‡æ¢

### ğŸ¨ æ™ºèƒ½è¯­è¨€ä½“éªŒ
- **è‡ªåŠ¨è¯­è¨€æ£€æµ‹**: æ ¹æ®æµè§ˆå™¨è¯­è¨€è‡ªåŠ¨é€‰æ‹©ä¸­æ–‡æˆ–è‹±æ–‡ç•Œé¢
- **æ‰‹åŠ¨è¯­è¨€åˆ‡æ¢**: ä¸€é”®åˆ‡æ¢ä¸­è‹±æ–‡ï¼Œå®æ—¶ç”Ÿæ•ˆæ— éœ€åˆ·æ–°
- **è¯­è¨€åå¥½è®°å¿†**: è‡ªåŠ¨ä¿å­˜ç”¨æˆ·è¯­è¨€é€‰æ‹©ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è‡ªåŠ¨åº”ç”¨
- **å®Œæ•´ç•Œé¢ç¿»è¯‘**: æ‰€æœ‰æ–‡æœ¬å…ƒç´ å‡æ”¯æŒä¸­è‹±æ–‡æ˜¾ç¤º

### ğŸ¥ ä¸°å¯Œçš„æ–‡ä»¶é¢„è§ˆ
- **å›¾ç‰‡**: JPG, PNG, GIF, SVG, WebP ç­‰
- **è§†é¢‘**: MP4, AVI, MOV, WebM, MKV ç­‰
- **éŸ³é¢‘**: MP3, WAV, FLAC, AAC, OGG ç­‰  
- **æ–‡æœ¬/ä»£ç **: æ”¯æŒè¯­æ³•é«˜äº®çš„ä»£ç é¢„è§ˆ
- **æ–‡æ¡£**: PDF, Officeæ–‡æ¡£ä¸‹è½½æ”¯æŒ

### ğŸš€ åŒåè®®æ”¯æŒ
- **HTTPæœåŠ¡å™¨**: ç°ä»£Webç•Œé¢ï¼Œæ”¯æŒæµè§ˆå™¨è®¿é—®
- **FTPæœåŠ¡å™¨**: ä¼ ç»ŸFTPåè®®ï¼Œæ”¯æŒå„ç§FTPå®¢æˆ·ç«¯
- ç‹¬ç«‹ç«¯å£é…ç½®ï¼Œå¯å•ç‹¬å¯ç”¨

### ğŸ”§ ä¾¿æ·çš„ç®¡ç†
- äº¤äº’å¼å‘½ä»¤è¡Œç•Œé¢
- æ–‡ä»¶æœç´¢å’Œåˆ—è¡¨ç®¡ç†
- ä¸‹è½½é“¾æ¥ç”Ÿæˆ
- å®æ—¶æ–‡ä»¶ç³»ç»Ÿåˆ·æ–°

### ğŸŒ è·¨å¹³å°æ”¯æŒ
- **Linux**: amd64, arm64
- **Windows**: amd64, 386  
- **macOS**: Intel, Apple Silicon

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ä¸€é”®å®‰è£…è„šæœ¬

æœ€ç®€å•çš„å®‰è£…æ–¹å¼ï¼Œè‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿå¹¶é€‰æ‹©æœ€ä½³å®‰è£…æ–¹æ³•ï¼š

```bash
curl -fsSL https://install.upftp.dev | bash
```

### åŒ…ç®¡ç†å™¨å®‰è£…

#### Ubuntu/Debian (APT)

```bash
# æ·»åŠ UPFTPä»“åº“
curl -fsSL https://apt.upftp.dev/key.gpg | sudo apt-key add -
echo "deb https://apt.upftp.dev stable main" | sudo tee /etc/apt/sources.list.d/upftp.list

# å®‰è£…
sudo apt update
sudo apt install upftp

# å¯åŠ¨æœåŠ¡
sudo systemctl start upftp
sudo systemctl enable upftp  # å¼€æœºè‡ªå¯
```

#### macOS (Homebrew)

```bash
# æ·»åŠ tapå¹¶å®‰è£…
brew tap zy84338719/tap
brew install upftp

# å¯åŠ¨æœåŠ¡
brew services start upftp
```

#### CentOS/RHEL/Fedora (RPM)

```bash
# ä¸‹è½½RPMåŒ…
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_linux_amd64.rpm

# å®‰è£…
sudo rpm -ivh upftp_linux_amd64.rpm
# æˆ–è€…ä½¿ç”¨yum/dnf
sudo yum localinstall upftp_linux_amd64.rpm
```

### æ‰‹åŠ¨ä¸‹è½½å’Œå®‰è£…

ä» [Releasesé¡µé¢](https://github.com/zy84338719/upftp/releases) ä¸‹è½½é€‚åˆæ‚¨ç³»ç»Ÿçš„ç‰ˆæœ¬ï¼š

```bash
# Linux amd64
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_linux_amd64.tar.gz
tar -zxvf upftp_linux_amd64.tar.gz
chmod +x upftp_linux_amd64

# macOS (Intel)
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_darwin_amd64.tar.gz  
tar -zxvf upftp_darwin_amd64.tar.gz
chmod +x upftp_darwin_amd64

# macOS (Apple Silicon)
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_darwin_arm64.tar.gz
tar -zxvf upftp_darwin_arm64.tar.gz  
chmod +x upftp_darwin_arm64
```

### åŸºæœ¬ä½¿ç”¨

```bash
# ä½¿ç”¨é»˜è®¤é…ç½®å¯åŠ¨
./upftp

# æŒ‡å®šç«¯å£å’Œç›®å½•
./upftp -p 8888 -d /path/to/share

# å¯ç”¨FTPæœåŠ¡å™¨
./upftp -enable-ftp -user admin -pass mypassword

# è‡ªåŠ¨é€‰æ‹©ç½‘ç»œæ¥å£ï¼ˆé€‚åˆè„šæœ¬ä½¿ç”¨ï¼‰
./upftp -auto
```

### å®Œæ•´å‚æ•°

```bash
upftp [é€‰é¡¹]

é€‰é¡¹ï¼š
    -p <port>       HTTPæœåŠ¡å™¨ç«¯å£ (é»˜è®¤: 10000)
    -ftp <port>     FTPæœåŠ¡å™¨ç«¯å£ (é»˜è®¤: 2121)
    -d <dir>        å…±äº«ç›®å½• (é»˜è®¤: å½“å‰ç›®å½•)
    -auto           è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªå¯ç”¨ç½‘ç»œæ¥å£
    -enable-ftp     å¯ç”¨FTPæœåŠ¡å™¨
    -user <name>    FTPç”¨æˆ·å (é»˜è®¤: admin)
    -pass <pass>    FTPå¯†ç  (é»˜è®¤: admin)
    -h              æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
```

### è®¿é—®æ–¹å¼

å¯åŠ¨åå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è®¿é—®ï¼š

1. **Webæµè§ˆå™¨**: `http://ä½ çš„IP:ç«¯å£`
2. **FTPå®¢æˆ·ç«¯**: `ftp://ä½ çš„IP:FTPç«¯å£`  
3. **å‘½ä»¤è¡Œä¸‹è½½**: `curl -O http://ä½ çš„IP:ç«¯å£/download/æ–‡ä»¶å`

## ğŸ› ï¸ ä»æºç æ„å»º

éœ€è¦ Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š

```bash
# å…‹éš†ä»£ç åº“
git clone https://github.com/zy84338719/upftp.git
cd upftp

# æ„å»ºå½“å‰å¹³å°
make build

# æ„å»ºæ‰€æœ‰å¹³å°
make build-all

# åˆ›å»ºå‘å¸ƒåŒ…
make package

# æŸ¥çœ‹æ‰€æœ‰æ„å»ºé€‰é¡¹
make help
```

## ğŸ“– è¯¦ç»†æ–‡æ¡£

æŸ¥çœ‹ [INSTALL.md](INSTALL.md) è·å–å®Œæ•´çš„å®‰è£…å’Œä½¿ç”¨è¯´æ˜ã€‚

---

# English

## âœ¨ Key Features

### ğŸŒ Modern Web Interface
- Responsive design with mobile support
- Real-time file search functionality  
- Intuitive file type icons
- Elegant preview modal dialogs
- **ğŸŒ Multi-language Support**: Auto-detect browser language, supports Chinese/English switching

### ğŸ¨ Smart Language Experience
- **Auto Language Detection**: Automatically selects Chinese or English based on browser language
- **Manual Language Switching**: One-click switch between Chinese/English, takes effect immediately without refresh
- **Language Preference Memory**: Automatically saves user language choice, applies on next visit
- **Complete Interface Translation**: All text elements support Chinese/English display

### ğŸ¥ Rich File Preview
- **Images**: JPG, PNG, GIF, SVG, WebP, etc.
- **Videos**: MP4, AVI, MOV, WebM, MKV, etc.
- **Audio**: MP3, WAV, FLAC, AAC, OGG, etc.
- **Text/Code**: Syntax-highlighted code preview
- **Documents**: PDF, Office document download support

### ğŸš€ Dual Protocol Support  
- **HTTP Server**: Modern web interface for browser access
- **FTP Server**: Traditional FTP protocol for FTP clients
- Independent port configuration, can be enabled separately

### ğŸ”§ Convenient Management
- Interactive command-line interface
- File search and listing management
- Download link generation
- Real-time file system refresh

### ğŸŒ Cross-Platform Support
- **Linux**: amd64, arm64
- **Windows**: amd64, 386
- **macOS**: Intel, Apple Silicon

## ğŸš€ Quick Start

### One-line Install Script

The easiest way to install, automatically detects your system and chooses the best installation method:

```bash
curl -fsSL https://install.upftp.dev | bash
```

### Package Manager Installation

#### Ubuntu/Debian (APT)

```bash
# Add UPFTP repository
curl -fsSL https://apt.upftp.dev/key.gpg | sudo apt-key add -
echo "deb https://apt.upftp.dev stable main" | sudo tee /etc/apt/sources.list.d/upftp.list

# Install
sudo apt update
sudo apt install upftp

# Start service
sudo systemctl start upftp
sudo systemctl enable upftp  # Enable on boot
```

#### macOS (Homebrew)

```bash
# Add tap and install
brew tap zy84338719/tap
brew install upftp

# Start service
brew services start upftp
```

#### CentOS/RHEL/Fedora (RPM)

```bash
# Download RPM package
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_linux_amd64.rpm

# Install
sudo rpm -ivh upftp_linux_amd64.rpm
# Or use yum/dnf
sudo yum localinstall upftp_linux_amd64.rpm
```

### Manual Download and Install

Download the appropriate version for your system from the [Releases page](https://github.com/zy84338719/upftp/releases):

```bash
# Linux amd64
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_linux_amd64.tar.gz
tar -zxvf upftp_linux_amd64.tar.gz
chmod +x upftp_linux_amd64

# macOS (Intel)  
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_darwin_amd64.tar.gz
tar -zxvf upftp_darwin_amd64.tar.gz
chmod +x upftp_darwin_amd64

# macOS (Apple Silicon)
wget https://github.com/zy84338719/upftp/releases/latest/download/upftp_darwin_arm64.tar.gz  
tar -zxvf upftp_darwin_arm64.tar.gz
chmod +x upftp_darwin_arm64
```

### Basic Usage

```bash
# Start with default configuration
./upftp

# Specify port and directory  
./upftp -p 8888 -d /path/to/share

# Enable FTP server
./upftp -enable-ftp -user admin -pass mypassword

# Auto-select network interface (suitable for scripts)
./upftp -auto
```

### Full Options

```bash
upftp [options]

Options:
    -p <port>       HTTP server port (default: 10000)
    -ftp <port>     FTP server port (default: 2121)  
    -d <dir>        Share directory (default: current directory)
    -auto           Automatically select first available network interface
    -enable-ftp     Enable FTP server
    -user <name>    FTP username (default: admin)
    -pass <pass>    FTP password (default: admin)
    -h              Show help message
```

### Access Methods

After startup, you can access via:

1. **Web Browser**: `http://your-ip:port`
2. **FTP Client**: `ftp://your-ip:ftp-port`
3. **Command Line**: `curl -O http://your-ip:port/download/filename`

## ğŸ› ï¸ Build from Source

Requires Go 1.21 or higher:

```bash
# Clone repository
git clone https://github.com/zy84338719/upftp.git
cd upftp

# Build for current platform
make build

# Build for all platforms  
make build-all

# Create release packages
make package

# View all build options
make help
```

## ğŸ“– Documentation

See [INSTALL.md](INSTALL.md) for complete installation and usage instructions.

## ğŸ“ License

[MIT](LICENSE.txt)

---

> GitHub [@zy84338719](https://github.com/zy84338719) &nbsp;&middot;&nbsp;
> Twitter [@murphyyi](https://twitter.com/murphyyi) &nbsp;&middot;&nbsp;
> Website [murphyyi.com](https://murphyyi.com)
